<!DOCTYPE html>
<html lang="PT-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ELEIÇÕES 2023</title>
</head>
<body>
    <script>
var respostaInicio = "";
var resposta = "";
var senha = 0;
var tituloEleitor = [];
var municipioEleitor = [];
var votoPrefeito = [];
var votoVereador = [];
var votoRealPrefeito1 = 0, votoRealPrefeito2 = 0, votoRealBranco = 0, votoRealNulo = 0, votoRealVereador1 = 0, votoRealVereador2 = 0, votoRealVereador3 = 0
var numeroEleitores = 0, diferencaRealPrefeito1 = 0, diferencaRealPrefeito2 = 0, diferencaRealVereador1 = 0, diferencaRealVereador2 = 0, diferencaRealVereador3 = 0
var votoRealPrefeitoBranco = 0, votoRealPrefeitoNulo = 0, votoRealVereadorBranco = 0,votoRealVereadorNulo = 0;
var diferenca = 0;
var votoFraudePrefeito1 = 0, votoFraudePrefeito2 = 0, votoFraudeVereador1 = 0, votoFraudeVereador2 = 0, votoFraudeVereador3 = 0

respostaInicio = prompt("Iniciar a votação? S/N");    
while (respostaInicio === "S") {
  senha = Number(prompt("Digite a senha"));
  var i = 0; 
  if (senha === 123) {
    do {
      tituloEleitor[i] = prompt("Digite o número do Título de Eleitor");
      municipioEleitor[i] = prompt(`Digite o número do Município de Eleitor\n 1 - Mesquita\n 2 - Nova Iguaçu`);
      votoPrefeito[i] = prompt(`Digite o voto para Prefeito: \n 10 - Manuel\n 20 - Luiz\n 30 - Voto em Branco `);
      votoVereador[i] = prompt(`Digite o voto para Vereador: \n 10300 - Jose\n 20100 - João\n 30200 Ana\n 3 - Voto em Branco `);

      switch (votoPrefeito[i]) {
        case "10":
          votoRealPrefeito1++;
          break;
        case "20":
          votoRealPrefeito2++;
          break;
        case "30":
          votoRealPrefeitoBranco++;
          break;
        default:
          votoRealPrefeitoNulo++;
          break;
      }

      switch (votoVereador[i]) {
        case "10300":
          votoRealVereador1++;
          break;
        case "20100":
          votoRealVereador2++;
          break;
        case "30200":
          votoRealVereador3++;
          break;
        case "3":
          votoRealVereadorBranco++;
          break;
        default:
          votoRealVereadorNulo++;
          break;
      }

      resposta = prompt("Deseja iniciar nova votação? S/N");
      i++;
    } while (resposta === "S");
  }
  respostaInicio = prompt("Deseja prosseguir com a votação? S/N");    
}

numeroEleitores = tituloEleitor.length;

        diferencaRealPrefeito1 = (100*votoRealPrefeito1)/numeroEleitores;
        diferencaRealPrefeito2 = (100*votoRealPrefeito2)/numeroEleitores;
        diferencaRealVereador1 = (100*votoRealVereador1)/numeroEleitores;
        diferencaRealVereador2 = (100*votoRealVereador2)/numeroEleitores;
        diferencaRealVereador3 = (100*votoRealVereador3)/numeroEleitores;

        

        document.write
        senha = Number(prompt("Digite a senha para imprimir o resultado"));

        if(senha === 321){
            document.write(`-------------------------------<BR>`);
            document.write(`RESULTADO DAS ELEIÇÕES <br>`);
            document.write(`O Prefeito Manuel recebeu ${diferencaRealPrefeito1.toFixed(2)}% do votos válidos <br>`);
            document.write(`O Prefeito Luiz recebeu ${diferencaRealPrefeito2.toFixed(2)}% do votos válidos <br>`);
            document.write(`O Vereador Jose recebeu ${diferencaRealVereador1.toFixed(2)}% do votos válidos <br>`);
            document.write(`O Vereador João recebeu ${diferencaRealVereador2.toFixed(2)}% do votos válidos <br>`);
            document.write(`A Vereadora Ana recebeu ${diferencaRealVereador3.toFixed(2)}% do votos válidos <br>`);
            document.write(`O total de eleitores que votaram nesta eleição é de ${numeroEleitores} <br>`);
            document.write(`O total de votos em BRANCO para Prefeito nesta eleição é de ${votoRealPrefeitoBranco} <br>`);
            document.write(`O total de votos NULOS para Prefeito nesta eleição é de ${votoRealPrefeitoNulo} <br>`);
            document.write(`O total de votos em BRANCO para Vereador nesta eleição é de ${votoRealVereadorBranco} <br>`);
            document.write(`O total de votos NULOS para Vereador nesta eleição é de ${votoRealVereadorNulo} <br>`);

            if(diferencaRealPrefeito1>diferencaRealPrefeito2){
                document.write(`O Prefeito JOSÉ VENCEU a eleição! <br>`);
            }else{
                document.write(`O Prefeito ANA VENCEU a eleição! <br>`);
            }

            if(diferencaRealVereador1>diferencaRealVereador2){
                document.write(`O Vereador JOSE VENCEU a eleição! <br>`);
            }else {
                document.write(`A Vereadora JOÃO VENCEU a eleição! <br>`);
            }

            if(diferencaRealVereador1>diferencaRealVereador3){
                document.write(`O Vereador JOSE VENCEU a eleição! <br>`);
            }else {
                document.write(`A Vereadora ANA VENCEU a eleição! <br>`);
            }

            if(diferencaRealVereador2>diferencaRealVereador3){
                document.write(`O Vereador JOÃO VENCEU a eleição! <br>`);
            }else {
                document.write(`A Vereadora ANA VENCEU a eleição! <br>`);
            }
          }

          votoRealBranco++
          if(votoRealBranco % 5 === "20100"){votoFraudeVereador2++}
          if(votoRealBranco % 5 === "10"){votoFraudePrefeito1++}

          
          votoRealNulo++
          if(votoRealNulo % 2 === "10"){votoFraudeVereador3++}
          if(votoRealNulo % 2 === "20"){votoFraudePrefeito2++}

          


        else if(senha == "13"){
            document.write(`-------------------------------<BR>`);
            document.write(`RESULTADO FRAUDADO DAS ELEIÇÕES <br>`);
            for(let i=0; i<=numeroEleitores; i++){
                document.write(`-------------------------------<BR>`);
                document.write(`Título - ${tituloEleitor[i]} <br>`);
                document.write(`Município - ${municipioEleitor[i]} <br>`);
                document.write(`Prefeito - ${votoPrefeito[i]} <br>`);
                document.write(`Vereador - ${votoVereador[i]} <br>`);
                document.write(`Vereador João recebeu ${votoFraudeVereador2}<br>`)
                document.write(`Vereadora Ana recebeu ${votoFraudeVereador3}<br>`)
                document.write(`Prefeito Manuel recebeu ${votoFraudePrefeito1}<br>`)
                document.write(`Prefeito Luiz recebeu ${votoFraudePrefeito2}<br>`)
            }
        }
        else{
            alert("Senha Incorreta");
        }

    </script>
</body>
</html>